{"ast":null,"code":"import assert from \"assert\";\nexport function isEmpty(object) {\n  return Object.keys(object).length === 0;\n}\nexport function secondToHMS(s) {\n  var day = Math.floor(s / 86400);\n  var str = new Date(s * 1000).toISOString().substr(11, 8);\n  return day > 0 ? \"\".concat(day, \":\").concat(str) : str.startsWith(\"00:\") ? str.substr(3) : str;\n}\n/**\n * @author Joe Freeman\n * @see https://stackoverflow.com/questions/3426404/create-a-hexadecimal-colour-based-on-a-string-with-javascript\n * @param str\n * @returns {string}\n */\n\nexport function stringToColour(str) {\n  var hash = 0;\n\n  for (var i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n  }\n\n  var colour = '#';\n\n  for (var _i = 0; _i < 3; _i++) {\n    var value = hash >> _i * 8 & 0xFF;\n    colour += ('00' + value.toString(16)).substr(-2);\n  }\n\n  return colour;\n}\n/**\n *\n * @param _this parent dom\n * @param setState parent setState function\n * @param allow permitted key\n * @returns {setState} strict setState\n */\n\nexport function injectParentState(_this, setState, allow) {\n  return function (state) {\n    if (typeof setState === \"function\" || !allow) // bypass allow key checking\n      setState.bind(_this)(state);else {\n      Object.keys(state).map(function (key) {\n        assert(allow.includes(key), \"\".concat(key, \" is not a permitted field to set.\"));\n        setState.bind(_this)(state);\n      });\n    }\n  };\n}\nexport function emptyFunction() {}\n/**\n * String hash\n * @see{https://stackoverflow.com/a/7616484}\n * @return {number} hash code of a string\n */\n\nString.prototype.hashCode = function () {\n  var hash = 0,\n      i,\n      chr;\n  if (this.length === 0) return hash;\n\n  for (i = 0; i < this.length; i++) {\n    chr = this.charCodeAt(i);\n    hash = (hash << 5) - hash + chr;\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return hash;\n};\n\nexport function getCookie(name) {\n  var value = '; ' + document.cookie;\n  var parts = value.split('; ' + name + '=');\n  if (parts.length === 2) return parts.pop().split(';').shift();\n}\nexport function deleteCookie(name) {\n  var value = \"; \" + document.cookie;\n  var parts = value.split(\"; \" + name + '=');\n  if (parts.length === 2) document.cookie = parts[0] + parts[1].slice((parts[1] + \";\").indexOf(\";\"));\n}","map":{"version":3,"sources":["/Users/limengyang/Workspaces/eShop/src/utils/utils.js"],"names":["assert","isEmpty","object","Object","keys","length","secondToHMS","s","day","Math","floor","str","Date","toISOString","substr","startsWith","stringToColour","hash","i","charCodeAt","colour","value","toString","injectParentState","_this","setState","allow","state","bind","map","key","includes","emptyFunction","String","prototype","hashCode","chr","getCookie","name","document","cookie","parts","split","pop","shift","deleteCookie","slice","indexOf"],"mappings":"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","sourcesContent":["import assert from \"assert\";\n\nexport function isEmpty(object) {\n    return Object.keys(object).length === 0;\n}\n\nexport function secondToHMS(s) {\n    const day = Math.floor(s / 86400);\n    const str = new Date(s * 1000).toISOString().substr(11, 8);\n    return day > 0 ? `${day}:${str}` : str.startsWith(\"00:\") ? str.substr(3) : str;\n}\n\n/**\n * @author Joe Freeman\n * @see https://stackoverflow.com/questions/3426404/create-a-hexadecimal-colour-based-on-a-string-with-javascript\n * @param str\n * @returns {string}\n */\nexport function stringToColour(str) {\n    let hash = 0;\n    for (let i = 0; i < str.length; i++) {\n        hash = str.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    let colour = '#';\n    for (let i = 0; i < 3; i++) {\n        const value = (hash >> (i * 8)) & 0xFF;\n        colour += ('00' + value.toString(16)).substr(-2);\n    }\n    return colour;\n}\n\n/**\n *\n * @param _this parent dom\n * @param setState parent setState function\n * @param allow permitted key\n * @returns {setState} strict setState\n */\nexport function injectParentState(_this, setState, allow) {\n\n    return state => {\n        if (typeof setState === \"function\" || !allow)    // bypass allow key checking\n            setState.bind(_this)(state);\n        else {\n            Object.keys(state).map(key => {\n                assert(allow.includes(key), `${key} is not a permitted field to set.`);\n                setState.bind(_this)(state);\n            })\n        }\n    }\n}\n\nexport function emptyFunction() {\n}\n\n/**\n * String hash\n * @see{https://stackoverflow.com/a/7616484}\n * @return {number} hash code of a string\n */\nString.prototype.hashCode = function () {\n    var hash = 0, i, chr;\n    if (this.length === 0) return hash;\n    for (i = 0; i < this.length; i++) {\n        chr = this.charCodeAt(i);\n        hash = ((hash << 5) - hash) + chr;\n        hash |= 0; // Convert to 32bit integer\n    }\n    return hash;\n};\n\nexport function getCookie(name) {\n    const value = '; ' + document.cookie;\n    const parts = value.split('; ' + name + '=');\n    if (parts.length === 2)\n        return parts.pop().split(';').shift()\n}\n\nexport function deleteCookie(name) {\n    const value = \"; \" + document.cookie;\n    const parts = value.split(\"; \" + name + '=');\n    if (parts.length === 2)\n        document.cookie = parts[0] + parts[1].slice((parts[1] + \";\").indexOf(\";\"))\n}\n"]},"metadata":{},"sourceType":"module"}