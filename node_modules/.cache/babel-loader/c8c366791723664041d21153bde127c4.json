{"ast":null,"code":"import _defineProperty from \"/Users/limengyang/Workspaces/eShop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/limengyang/Workspaces/eShop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/limengyang/Workspaces/eShop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/limengyang/Workspaces/eShop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/limengyang/Workspaces/eShop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/limengyang/Workspaces/eShop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/limengyang/Workspaces/eShop/src/components/common/CardMenu.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener/ClickAwayListener\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper/Popper\";\nimport Grow from \"@material-ui/core/Grow/Grow\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport classNames from \"classnames\";\nimport Typography from \"@material-ui/core/es/Typography/Typography\";\nvar styles = {\n  root: {},\n  button: {},\n  buttonMenuOpen: {}\n};\n\nvar CardMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CardMenu, _React$Component);\n\n  function CardMenu() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CardMenu);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CardMenu)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      open: false\n    };\n\n    _this.handleToggle = function () {\n      _this.setState(function (state) {\n        return {\n          open: !state.open\n        };\n      });\n    };\n\n    _this.handleClose = function (e) {\n      if (_this.anchorEl.contains(e.target)) {\n        return;\n      }\n\n      _this.setState({\n        open: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(CardMenu, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      function mapFontSizeToVariant(fontSize) {\n        switch (fontSize) {\n          case \"small\":\n            return \"body2\";\n\n          case \"inherit\":\n            return \"inherit\";\n\n          case \"large\":\n            return \"subtitle1\";\n\n          default:\n            return \"default\";\n        }\n      }\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          _this$props$menuItems = _this$props.menuItems,\n          menuItems = _this$props$menuItems === void 0 ? [] : _this$props$menuItems,\n          _this$props$fontSize = _this$props.fontSize,\n          fontSize = _this$props$fontSize === void 0 ? \"default\" : _this$props$fontSize,\n          _this$props$disable = _this$props.disable,\n          disable = _this$props$disable === void 0 ? menuItems.length === 0 : _this$props$disable;\n      var open = this.state.open;\n      var dense = fontSize === \"small\";\n      return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        className: classNames(classes.button, _defineProperty({}, classes.buttonMenuOpen, open)),\n        buttonRef: function buttonRef(node) {\n          _this2.anchorEl = node;\n        },\n        \"aria-owns\": open ? 'menu-list-grow' : undefined,\n        \"aria-haspopup\": \"true\",\n        onClick: this.handleToggle,\n        disabled: disable || false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(MoreVertIcon, {\n        fontSize: fontSize,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      })), disable ? null : React.createElement(Popper, {\n        open: open,\n        anchorEl: this.anchorEl,\n        transition: true,\n        disablePortal: true,\n        style: {\n          zIndex: 99\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, function (_ref) {\n        var TransitionProps = _ref.TransitionProps,\n            placement = _ref.placement;\n        return React.createElement(Grow, Object.assign({}, TransitionProps, {\n          id: \"menu-list-grow\",\n          style: {\n            transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }), React.createElement(Paper, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(ClickAwayListener, {\n          onClickAway: _this2.handleClose,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, React.createElement(MenuList, {\n          dense: dense,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, menuItems.map(function (item, key) {\n          return React.createElement(MenuItem, {\n            dense: dense,\n            key: key,\n            onClick: item.action,\n            component: item.url ? function (props) {\n              return React.createElement(\"a\", Object.assign({\n                href: item.url\n              }, props, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 84\n                },\n                __self: this\n              }));\n            } : null,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }, React.isValidElement(item.id) ? React.createElement(Typography, {\n            component: \"div\",\n            variant: mapFontSizeToVariant(fontSize),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88\n            },\n            __self: this\n          }, item.id) : item.id);\n        })))));\n      }));\n    }\n  }]);\n\n  return CardMenu;\n}(React.Component);\n\nCardMenu.propTypes = {\n  classes: PropTypes.object.isRequired,\n  menuItems: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.node]).isRequired,\n    action: PropTypes.func,\n    url: PropTypes.string\n  }).isRequired),\n  disable: PropTypes.bool,\n  fontSize: PropTypes.oneOf([\"small\", \"default\", \"inherit\", \"large\"])\n};\nexport default withStyles(styles)(CardMenu);","map":{"version":3,"sources":["/Users/limengyang/Workspaces/eShop/src/components/common/CardMenu.js"],"names":["React","PropTypes","IconButton","ClickAwayListener","withStyles","MenuList","MenuItem","Paper","Popper","Grow","MoreVertIcon","classNames","Typography","styles","root","button","buttonMenuOpen","CardMenu","state","open","handleToggle","setState","handleClose","e","anchorEl","contains","target","mapFontSizeToVariant","fontSize","props","classes","menuItems","disable","length","dense","node","undefined","zIndex","TransitionProps","placement","transformOrigin","map","item","key","action","url","isValidElement","id","Component","propTypes","object","isRequired","arrayOf","shape","oneOfType","string","func","bool","oneOf"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener/ClickAwayListener\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper/Popper\";\nimport Grow from \"@material-ui/core/Grow/Grow\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport classNames from \"classnames\";\nimport Typography from \"@material-ui/core/es/Typography/Typography\";\n\nconst styles = {\n    root: {},\n    button: {},\n    buttonMenuOpen: {},\n};\n\nclass CardMenu extends React.Component {\n    state = {\n        open: false,\n    };\n\n    handleToggle = () => {\n        this.setState(state => ({open: !state.open}));\n    };\n\n    handleClose = e => {\n        if (this.anchorEl.contains(e.target)) {\n            return;\n        }\n\n        this.setState({open: false});\n    };\n\n    render() {\n\n        function mapFontSizeToVariant(fontSize) {\n            switch (fontSize) {\n                case \"small\":\n                    return \"body2\";\n                case \"inherit\":\n                    return \"inherit\";\n                case \"large\":\n                    return \"subtitle1\";\n                default:\n                    return \"default\";\n            }\n        }\n\n        const {classes, menuItems = [], fontSize = \"default\", disable = menuItems.length === 0} = this.props;\n        const {open} = this.state;\n        const dense = fontSize === \"small\";\n\n        return (\n            <div className={classes.root}>\n                <IconButton className={classNames(classes.button, {[classes.buttonMenuOpen]: open})}\n                            buttonRef={node => {\n                                this.anchorEl = node;\n                            }}\n                            aria-owns={open ? 'menu-list-grow' : undefined}\n                            aria-haspopup=\"true\"\n                            onClick={this.handleToggle}\n                            disabled={disable || false}>\n                    <MoreVertIcon fontSize={fontSize}/>\n                </IconButton>\n                {disable ?\n                    null :\n                    <Popper open={open} anchorEl={this.anchorEl} transition disablePortal style={{zIndex: 99}}>\n                        {({TransitionProps, placement}) => (\n                            <Grow\n                                {...TransitionProps}\n                                id=\"menu-list-grow\"\n                                style={{transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'}}>\n                                <Paper>\n                                    <ClickAwayListener onClickAway={this.handleClose}>\n                                        <MenuList dense={dense}>\n                                            {menuItems.map(\n                                                (item, key) =>\n                                                    <MenuItem dense={dense} key={key}\n                                                              onClick={item.action}\n                                                              component={item.url ? props => <a\n                                                                  href={item.url} {...props}/> : null}>\n                                                        {\n                                                            React.isValidElement(item.id) ?\n                                                                <Typography\n                                                                    component=\"div\"\n                                                                    variant={mapFontSizeToVariant(fontSize)}>{item.id}\n                                                                </Typography> :\n                                                                item.id\n                                                        }\n                                                    </MenuItem>\n                                            )}\n                                        </MenuList>\n                                    </ClickAwayListener>\n                                </Paper>\n                            </Grow>\n                        )}\n                    </Popper>\n                }\n            </div>\n        );\n    }\n}\n\nCardMenu.propTypes = {\n    classes: PropTypes.object.isRequired,\n    menuItems: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.node]).isRequired,\n            action: PropTypes.func,\n            url: PropTypes.string,\n        }).isRequired\n    ),\n    disable: PropTypes.bool,\n    fontSize: PropTypes.oneOf([\"small\", \"default\", \"inherit\", \"large\"]),\n};\n\nexport default withStyles(styles)(CardMenu);\n"]},"metadata":{},"sourceType":"module"}